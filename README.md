# å®‰å…¨å‘Šè­¦æ—¥å¿—ç ”åˆ¤ç³»ç»Ÿ (Security Alert Analysis System)

## ç³»ç»Ÿæ¦‚è¿°

å®‰å…¨å‘Šè­¦æ—¥å¿—ç ”åˆ¤ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºå¤šå¼•æ“æ¶æ„çš„å®‰å…¨äº‹ä»¶åˆ†æå¹³å°ï¼Œèƒ½å¤Ÿè‡ªåŠ¨åŒ–å¤„ç†å®‰å…¨å‘Šè­¦ï¼Œæå–å…³é”®å®ä½“ï¼Œåˆ†æå®ä½“å…³è”å…³ç³»ï¼Œè¯„ä¼°å¨èƒé£é™©ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„å®‰å…¨å“åº”æªæ–½ã€‚

### æ ¸å¿ƒåŠŸèƒ½

#### å››å¼•æ“æ¶æ„

1. **å®ä½“è¯†åˆ«å¼•æ“ (Entity Recognition Engine)**
   - ä»æ—¥å¿—æ•°æ®ä¸­æå–IPåœ°å€ã€ç”¨æˆ·ã€æ–‡ä»¶ã€è¿›ç¨‹ã€åŸŸåç­‰å®‰å…¨å®ä½“
   - æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼å’Œç»“æ„åŒ–å­—æ®µè§£æ
   - è‡ªåŠ¨è¯†åˆ«å®ä½“ç±»å‹å’Œå±æ€§

2. **è¿æ¥æ‰©å……å¼•æ“ (Connection Expansion Engine)**
   - åŸºäºèµ„äº§å…³ç³»ã€å¨èƒæƒ…æŠ¥ã€åŸºçº¿å¼‚å¸¸å’Œæ—¶åºå…³è”æ‰©å……å®ä½“è¿æ¥
   - é›†æˆNeo4jå›¾æ•°æ®åº“è¿›è¡Œå…³ç³»åˆ†æ
   - æ”¯æŒå¤šç»´åº¦è¿æ¥å‘ç°

3. **é£é™©è¯„åˆ†å¼•æ“ (Risk Scoring Engine)**
   - ç»“åˆå•ç‚¹æŒ‡æ ‡å’Œå¤šç‚¹è¡Œä¸ºåºåˆ—è¿›è¡Œé£é™©è¯„åˆ†
   - æ”¯æŒæœºå™¨å­¦ä¹ æ¨¡å‹é›†æˆ
   - åŠ¨æ€è°ƒæ•´é£é™©é˜ˆå€¼

4. **å“åº”æ‰§è¡Œå¼•æ“ (Response Executor Engine)**
   - æ”¯æŒé˜²ç«å¢™ã€ADã€EDRç­‰å¤šç§å“åº”å™¨
   - è‡ªåŠ¨åŒ–æ‰§è¡Œå®‰å…¨å“åº”åŠ¨ä½œ
   - æ”¯æŒæ‰‹åŠ¨å’Œè‡ªåŠ¨å“åº”æ¨¡å¼

### æŠ€æœ¯æ¶æ„

#### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **Python 3.8+** - ä¸»è¦å¼€å‘è¯­è¨€
- **FastAPI** - REST APIæ¡†æ¶
- **asyncio** - å¼‚æ­¥å¤„ç†æ”¯æŒ
- **Neo4j** - å›¾æ•°æ®åº“ï¼Œç”¨äºå®ä½“å…³ç³»å­˜å‚¨
- **ClickHouse** - åˆ†æå‹æ•°æ®åº“ï¼Œç”¨äºæ—¥å¿—æŸ¥è¯¢
- **Redis** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **MySQL** - å…ƒæ•°æ®å­˜å‚¨
- **Kafka** - æ¶ˆæ¯é˜Ÿåˆ—
- **Elasticsearch** - æ—¥å¿—æœç´¢å¼•æ“

#### ç³»ç»Ÿç»„ä»¶

```
security-platform/
â”œâ”€â”€ docker-compose.yml          # DockeræœåŠ¡ç¼–æ’
â”œâ”€â”€ requirements.txt            # Pythonä¾èµ–
â”œâ”€â”€ start.sh                   # ç³»ç»Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ test_system.py             # ç³»ç»Ÿæµ‹è¯•è„šæœ¬
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ entities.py        # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ engines/
â”‚   â”‚   â”œâ”€â”€ entity_recognizer.py      # å®ä½“è¯†åˆ«å¼•æ“
â”‚   â”‚   â”œâ”€â”€ connection_expansion.py   # è¿æ¥æ‰©å……å¼•æ“
â”‚   â”‚   â”œâ”€â”€ risk_scoring.py          # é£é™©è¯„åˆ†å¼•æ“
â”‚   â”‚   â””â”€â”€ response_executor.py     # å“åº”æ‰§è¡Œå¼•æ“
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ security_analysis_service.py  # æ ¸å¿ƒä¸šåŠ¡æœåŠ¡
â”‚   â””â”€â”€ apis/
â”‚       â””â”€â”€ security_api.py     # REST APIæ¥å£
```

## APIä½¿ç”¨ç¤ºä¾‹

### å•ä¸ªäº‹ä»¶åˆ†æ

```bash
curl -X POST "http://localhost:8000/api/v1/analyze/event" \
  -H "Content-Type: application/json" \
  -d '{
    "event_type": "network_anomaly",
    "log_data": {
      "src_ip": "192.168.1.100",
      "dst_ip": "103.45.67.89",
      "username": "john.doe",
      "timestamp": "2024-01-01T12:00:00Z",
      "is_anomaly": true,
      "anomaly_type": "unusual_data_transfer"
    }
  }'
```

### æ‰¹é‡äº‹ä»¶åˆ†æ

```bash
curl -X POST "http://localhost:8000/api/v1/analyze/batch" \
  -H "Content-Type: application/json" \
  -d '{
    "events": [
      {
        "event_type": "file_access",
        "log_data": {
          "username": "admin",
          "file_path": "/etc/passwd",
          "action": "read"
        }
      }
    ]
  }'
```

### æ‰‹åŠ¨å“åº”æ‰§è¡Œ

```bash
curl -X POST "http://localhost:8000/api/v1/response/manual" \
  -H "Content-Type: application/json" \
  -d '{
    "entity_id": "192.168.1.100",
    "entity_type": "ip",
    "actions": ["block_ip", "send_alert"]
  }'
```

## ç³»ç»Ÿé…ç½®

### å¤„ç†é…ç½®

```python
processing_config = {
    'enable_connection_expansion': True,
    'enable_risk_scoring': True, 
    'enable_auto_response': True,
    'max_concurrent_processing': 10,
    'min_risk_threshold_for_response': 50.0
}
```

### å“åº”é…ç½®

```python
response_config = {
    'firewall': {
        'api_endpoint': 'http://firewall-api:8080',
        'api_key': 'your-api-key'
    },
    'ad': {
        'ldap_server': 'ldap://ad-server:389',
        'admin_user': 'admin',
        'admin_password': 'password'
    }
}
```

## ç›‘æ§æŒ‡æ ‡

ç³»ç»Ÿæä¾›ä¸°å¯Œçš„ç›‘æ§æŒ‡æ ‡ï¼š

- **å¤„ç†äº‹ä»¶æ€»æ•°**: total_events_processed
- **æå–å®ä½“æ€»æ•°**: total_entities_extracted  
- **æ‰©å……è¿æ¥æ€»æ•°**: total_connections_expanded
- **æ‰§è¡Œå“åº”æ€»æ•°**: total_responses_executed
- **å¹³å‡å¤„ç†æ—¶é—´**: average_processing_time

é€šè¿‡ `/api/v1/statistics` æ¥å£è·å–å®æ—¶ç»Ÿè®¡ä¿¡æ¯ã€‚

## å®ä½“ç±»å‹æ”¯æŒ

ç³»ç»Ÿæ”¯æŒä»¥ä¸‹å®ä½“ç±»å‹çš„è¯†åˆ«å’Œåˆ†æï¼š

- **IP** - IPåœ°å€ (IPv4/IPv6)
- **USER** - ç”¨æˆ·è´¦æˆ·
- **FILE** - æ–‡ä»¶è·¯å¾„
- **PROCESS** - è¿›ç¨‹ä¿¡æ¯
- **DOMAIN** - åŸŸå
- **EMAIL** - é‚®ç®±åœ°å€
- **URL** - ç½‘å€é“¾æ¥
- **HASH** - æ–‡ä»¶å“ˆå¸Œå€¼
- **DEVICE** - è®¾å¤‡åç§°

## å¨èƒç­‰çº§

- **LOW** (0-30åˆ†) - ä½é£é™©
- **MEDIUM** (30-70åˆ†) - ä¸­ç­‰é£é™©  
- **HIGH** (70-90åˆ†) - é«˜é£é™©
- **CRITICAL** (90-100åˆ†) - æé«˜é£é™©

## å“åº”åŠ¨ä½œç±»å‹

### IPåœ°å€å“åº”
- `block_ip` - é˜»æ–­IP
- `allow_ip` - å…è®¸IP
- `monitor_ip` - ç›‘æ§IP

### ç”¨æˆ·å“åº”  
- `disable_user` - ç¦ç”¨ç”¨æˆ·
- `reset_password` - é‡ç½®å¯†ç 
- `force_logout` - å¼ºåˆ¶ç™»å‡º

### æ–‡ä»¶å“åº”
- `quarantine_file` - éš”ç¦»æ–‡ä»¶
- `delete_file` - åˆ é™¤æ–‡ä»¶
- `collect_evidence` - æ”¶é›†è¯æ®

### å‘Šè­¦å“åº”
- `send_alert` - å‘é€å‘Šè­¦
- `create_ticket` - åˆ›å»ºå·¥å•

## å¼€å‘æŒ‡å—

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œç³»ç»Ÿæµ‹è¯•
python test_system.py

# è¿è¡Œå•å…ƒæµ‹è¯•
pytest tests/
```

### ä»£ç é£æ ¼

```bash
# ä»£ç æ ¼å¼åŒ–
black src/

# ç±»å‹æ£€æŸ¥
mypy src/

# ä»£ç è§„èŒƒæ£€æŸ¥
flake8 src/
```

## éƒ¨ç½²æŒ‡å—

### Dockeréƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t security-analysis-system .

# è¿è¡Œå®¹å™¨
docker run -p 8000:8000 security-analysis-system
```

### ç”Ÿäº§ç¯å¢ƒé…ç½®

1. é…ç½®ç¯å¢ƒå˜é‡
2. è®¾ç½®æ•°æ®åº“è¿æ¥
3. é…ç½®å¤–éƒ¨æœåŠ¡é›†æˆ
4. å¯ç”¨ç›‘æ§å’Œæ—¥å¿—æ”¶é›†

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æœåŠ¡å¯åŠ¨å¤±è´¥**
   - æ£€æŸ¥DockeræœåŠ¡çŠ¶æ€
   - éªŒè¯ç«¯å£å ç”¨æƒ…å†µ
   - æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶

2. **åˆ†æè¶…æ—¶**
   - è°ƒæ•´ `processing_timeout` å‚æ•°
   - å‡å°‘ `max_concurrent_processing` å€¼

3. **å“åº”æ‰§è¡Œå¤±è´¥**
   - éªŒè¯å¤–éƒ¨ç³»ç»Ÿè¿æ¥
   - æ£€æŸ¥APIå¯†é’¥é…ç½®

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹APIæœåŠ¡æ—¥å¿—
docker-compose logs security-api

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker-compose logs
```

---

åŸºäºæµå¼å¤„ç†çš„æ™ºèƒ½å®‰å…¨å‘Šè­¦åˆ†æä¸å“åº”å¹³å°ï¼Œå®ç°å®æ—¶æ—¥å¿—åˆ†æã€å®ä½“è¯†åˆ«ã€å…³ç³»æ‰©å……ã€é£é™©è¯„åˆ†å’Œè‡ªåŠ¨åŒ–å“åº”ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®é‡‡é›†å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Filebeat  â”‚ Logstash â”‚ Fluentd â”‚ API Gateway â”‚ Agent        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å¤„ç†å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     Apache Kafka     â”‚    Apache Flink    â”‚    è§„åˆ™å¼•æ“      â”‚
â”‚     (æ¶ˆæ¯é˜Ÿåˆ—)       â”‚    (æµå¼è®¡ç®—)       â”‚    (Drools)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å­˜å‚¨å±‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Elasticsearch â”‚ ClickHouse â”‚ Neo4j â”‚ Redis â”‚ MySQL          â”‚
â”‚  (æ—¥å¿—æœç´¢)   â”‚  (åˆ†æåº“)   â”‚(å›¾è°±) â”‚(ç¼“å­˜) â”‚(å…ƒæ•°æ®)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åˆ†æå†³ç­–å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å®ä½“è¯†åˆ«å¼•æ“ â”‚ å…³ç³»æ‰©å……å¼•æ“ â”‚ é£é™©è¯„åˆ†å¼•æ“ â”‚ MLæ¨¡å‹æœåŠ¡      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åº”ç”¨æœåŠ¡å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‘Šè­¦æœåŠ¡  â”‚  å“åº”ç¼–æ’  â”‚  å–è¯åˆ†æ  â”‚  æŠ¥è¡¨æœåŠ¡            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: macOS / Linux / Windows (with WSL2)
- **Docker**: 20.10+ 
- **Docker Compose**: 2.0+
- **å†…å­˜**: æœ€å°‘8GBï¼Œæ¨è16GB+
- **ç£ç›˜**: æœ€å°‘50GBå¯ç”¨ç©ºé—´
- **CPU**: æœ€å°‘4æ ¸ï¼Œæ¨è8æ ¸+

### ä¸€é”®éƒ¨ç½²

```bash
# å…‹éš†é¡¹ç›®ï¼ˆå¦‚æœéœ€è¦ï¼‰
git clone <repository-url>
cd security-platform

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
./scripts/start.sh

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
./scripts/status.sh

# åœæ­¢æ‰€æœ‰æœåŠ¡
./scripts/stop.sh
```

### æœåŠ¡ç«¯å£

| æœåŠ¡ | ç«¯å£ | ç”¨é€” | é»˜è®¤è´¦å· |
|------|------|------|----------|
| Elasticsearch | 9200 | æ—¥å¿—æœç´¢å¼•æ“ | - |
| Kibana | 5601 | æ—¥å¿—åˆ†æç•Œé¢ | - |
| Neo4j | 7474, 7687 | å›¾æ•°æ®åº“ | neo4j/security123 |
| ClickHouse | 8123, 9000 | åˆ†ææ•°æ®åº“ | admin/security123 |
| MySQL | 3306 | å…ƒæ•°æ®å­˜å‚¨ | security/security123 |
| Redis | 6379 | ç¼“å­˜æœåŠ¡ | password: security123 |
| Kafka | 9092 | æ¶ˆæ¯é˜Ÿåˆ— | - |
| Kafka UI | 8080 | Kafkaç®¡ç†ç•Œé¢ | - |
| Flink | 8081 | æµå¤„ç†ç•Œé¢ | - |

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒé…ç½®

ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»º `.env` æ–‡ä»¶ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦é…ç½®ï¼š

```bash
# æ•°æ®åº“å¯†ç 
MYSQL_ROOT_PASSWORD=security123
NEO4J_PASSWORD=security123
CLICKHOUSE_PASSWORD=security123
REDIS_PASSWORD=security123

# JVMå†…å­˜è®¾ç½®
ES_JAVA_OPTS=-Xms1g -Xmx1g
FLINK_JM_HEAP=1280m
FLINK_TM_HEAP=1280m
```

### è‡ªå®šä¹‰é…ç½®

å¯ä»¥ä¿®æ”¹ä»¥ä¸‹é…ç½®æ–‡ä»¶ï¼š

- `config/elasticsearch/elasticsearch.yml` - Elasticsearché…ç½®
- `config/kibana/kibana.yml` - Kibanaé…ç½®  
- `config/clickhouse/config.xml` - ClickHouseé…ç½®
- `config/flink/flink-conf.yaml` - Flinké…ç½®
- `config/mysql/my.cnf` - MySQLé…ç½®

## ğŸ“Š Webç•Œé¢è®¿é—®

å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®å„ç§ç®¡ç†ç•Œé¢ï¼š

### ğŸ” æ—¥å¿—åˆ†æ - Kibana
- **åœ°å€**: http://localhost:5601
- **åŠŸèƒ½**: æ—¥å¿—æœç´¢ã€å¯è§†åŒ–åˆ†æã€ä»ªè¡¨æ¿

### ğŸ•¸ï¸ å›¾æ•°æ®åº“ - Neo4j Browser  
- **åœ°å€**: http://localhost:7474
- **è´¦å·**: neo4j / security123
- **åŠŸèƒ½**: å®ä½“å…³ç³»å›¾è°±ã€CypheræŸ¥è¯¢

### ğŸ“ˆ æ¶ˆæ¯é˜Ÿåˆ—ç®¡ç† - Kafka UI
- **åœ°å€**: http://localhost:8080  
- **åŠŸèƒ½**: Topicç®¡ç†ã€æ¶ˆæ¯ç›‘æ§ã€æ€§èƒ½ç»Ÿè®¡

### âš¡ æµå¤„ç†ç›‘æ§ - Flink Dashboard
- **åœ°å€**: http://localhost:8081
- **åŠŸèƒ½**: ä½œä¸šç®¡ç†ã€æ€§èƒ½ç›‘æ§ã€æ£€æŸ¥ç‚¹çŠ¶æ€

### ğŸ“‹ åˆ†ææ•°æ®åº“ - ClickHouse Play
- **åœ°å€**: http://localhost:8123/play
- **è´¦å·**: admin / security123  
- **åŠŸèƒ½**: SQLæŸ¥è¯¢ã€æ•°æ®åˆ†æ

## ğŸ› ï¸ è¿ç»´ç®¡ç†

### å¯åŠ¨æœåŠ¡

```bash
# å®Œæ•´å¯åŠ¨ï¼ˆæ¨èï¼‰
./scripts/start.sh

# æ‰‹åŠ¨å¯åŠ¨ç‰¹å®šæœåŠ¡
docker-compose up -d elasticsearch kibana
```

### æ£€æŸ¥çŠ¶æ€

```bash
# åŸºç¡€çŠ¶æ€æ£€æŸ¥
./scripts/status.sh

# è¯¦ç»†å¥åº·æ£€æŸ¥
./scripts/status.sh --health

# èµ„æºä½¿ç”¨æƒ…å†µ
./scripts/status.sh --resources

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
./scripts/status.sh --logs

# æ€§èƒ½æµ‹è¯•
./scripts/status.sh --performance

# å®Œæ•´æ£€æŸ¥
./scripts/status.sh --all
```

### åœæ­¢æœåŠ¡

```bash
# ä»…åœæ­¢æœåŠ¡
./scripts/stop.sh

# åœæ­¢å¹¶æ¸…ç†æ•°æ®
./scripts/stop.sh --clean-data

# åœæ­¢å¹¶æ¸…ç†æ‰€æœ‰ï¼ˆå®¹å™¨+é•œåƒ+æ•°æ®ï¼‰
./scripts/stop.sh --clean-all
```

### æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose ps

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f elasticsearch

# é‡å¯ç‰¹å®šæœåŠ¡
docker-compose restart kafka

# æ‰©å±•æœåŠ¡å®ä¾‹
docker-compose up -d --scale flink-taskmanager=3
```

## ğŸ“Š æ•°æ®åº“ç»“æ„

### MySQL - å…ƒæ•°æ®å­˜å‚¨

æ ¸å¿ƒè¡¨ç»“æ„ï¼š

- `users` - ç”¨æˆ·ç®¡ç†
- `entities` - å®‰å…¨å®ä½“ï¼ˆIPã€ç”¨æˆ·ã€æ–‡ä»¶ç­‰ï¼‰
- `entity_connections` - å®ä½“è¿æ¥å…³ç³»
- `security_alerts` - å®‰å…¨å‘Šè­¦äº‹ä»¶
- `response_actions` - å“åº”åŠ¨ä½œè®°å½•
- `threat_intelligence` - å¨èƒæƒ…æŠ¥
- `system_config` - ç³»ç»Ÿé…ç½®

### Elasticsearch - æ—¥å¿—å­˜å‚¨

ç´¢å¼•æ¨¡å¼ï¼š

- `security-logs-YYYY.MM.DD` - æ—¥å¿—æ•°æ®
- `security-alerts-YYYY.MM.DD` - å‘Šè­¦æ•°æ®
- `security-entities-YYYY.MM.DD` - å®ä½“æ•°æ®

### Neo4j - å›¾æ•°æ®åº“

èŠ‚ç‚¹ç±»å‹ï¼š

- `:User` - ç”¨æˆ·èŠ‚ç‚¹
- `:IP` - IPåœ°å€èŠ‚ç‚¹
- `:Device` - è®¾å¤‡èŠ‚ç‚¹
- `:File` - æ–‡ä»¶èŠ‚ç‚¹
- `:Process` - è¿›ç¨‹èŠ‚ç‚¹

å…³ç³»ç±»å‹ï¼š

- `:CONNECTS_TO` - è¿æ¥å…³ç³»
- `:BELONGS_TO` - å½’å±å…³ç³»
- `:ACCESSES` - è®¿é—®å…³ç³»
- `:EXECUTES` - æ‰§è¡Œå…³ç³»

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å ç”¨é”™è¯¯**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   netstat -tuln | grep :9200
   
   # åœæ­¢å ç”¨è¿›ç¨‹
   sudo lsof -ti:9200 | xargs kill -9
   ```

2. **å†…å­˜ä¸è¶³**
   ```bash
   # è°ƒæ•´JVMå†…å­˜è®¾ç½®
   export ES_JAVA_OPTS="-Xms512m -Xmx512m"
   
   # å‡å°‘æœåŠ¡æ•°é‡
   docker-compose up -d elasticsearch kibana mysql
   ```

3. **ç£ç›˜ç©ºé—´ä¸è¶³**
   ```bash
   # æ¸…ç†Dockeræ•°æ®
   docker system prune -af
   docker volume prune -f
   
   # æ£€æŸ¥ç£ç›˜ä½¿ç”¨
   df -h
   du -sh data/*
   ```

4. **æœåŠ¡å¯åŠ¨å¤±è´¥**
   ```bash
   # æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
   docker-compose logs service-name
   
   # é‡å¯æœåŠ¡
   docker-compose restart service-name
   
   # æ£€æŸ¥é…ç½®æ–‡ä»¶
   docker-compose config
   ```

### æ€§èƒ½ä¼˜åŒ–

1. **Elasticsearchä¼˜åŒ–**
   ```yaml
   # å¢åŠ å †å†…å­˜
   ES_JAVA_OPTS: "-Xms2g -Xmx2g"
   
   # è°ƒæ•´åˆ·æ–°é—´éš”
   index.refresh_interval: 30s
   ```

2. **Kafkaä¼˜åŒ–**
   ```yaml
   # å¢åŠ åˆ†åŒºæ•°
   KAFKA_NUM_PARTITIONS: 6
   
   # è°ƒæ•´æ‰¹å¤„ç†å¤§å°
   KAFKA_BATCH_SIZE: 16384
   ```

3. **ClickHouseä¼˜åŒ–**
   ```xml
   <!-- å¢åŠ å†…å­˜é™åˆ¶ -->
   <max_memory_usage>8000000000</max_memory_usage>
   
   <!-- å¯ç”¨å‹ç¼© -->
   <compression>
       <case>
           <method>lz4</method>
       </case>
   </compression>
   ```

## ğŸ“ˆ ç›‘æ§æŒ‡æ ‡

### å…³é”®æ€§èƒ½æŒ‡æ ‡

- **æ—¥å¿—å¤„ç†é€Ÿç‡**: æ¡/ç§’
- **å‘Šè­¦å“åº”æ—¶é—´**: ç§’
- **ç³»ç»Ÿååé‡**: äº‹ä»¶/åˆ†é’Ÿ
- **è¯¯æŠ¥ç‡**: %
- **æ£€æµ‹å‡†ç¡®ç‡**: %

### ç›‘æ§å‘½ä»¤

```bash
# ç³»ç»Ÿèµ„æºç›‘æ§  
./scripts/status.sh --resources

# æœåŠ¡å¥åº·æ£€æŸ¥
./scripts/status.sh --health

# æ€§èƒ½åŸºå‡†æµ‹è¯•
./scripts/status.sh --performance
```

## ğŸ” å®‰å…¨é…ç½®

### é»˜è®¤è´¦å·

âš ï¸ **ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…ä¿®æ”¹é»˜è®¤å¯†ç ï¼**

- MySQL: `security` / `security123`
- Neo4j: `neo4j` / `security123`
- ClickHouse: `admin` / `security123`
- Redis: `security123`

### å®‰å…¨å»ºè®®

1. ä¿®æ”¹æ‰€æœ‰é»˜è®¤å¯†ç 
2. å¯ç”¨æœåŠ¡é—´TLSåŠ å¯†
3. é…ç½®é˜²ç«å¢™è§„åˆ™
4. å®šæœŸæ›´æ–°ç»„ä»¶ç‰ˆæœ¬
5. å¯ç”¨è®¿é—®æ—¥å¿—è®°å½•

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‘èµ·Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹æ•…éšœæ’é™¤æ–‡æ¡£
2. æ£€æŸ¥ç³»ç»Ÿæ—¥å¿—
3. æäº¤Issue
4. è”ç³»æŠ€æœ¯æ”¯æŒ

---

**ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2025-07-29  
**ç»´æŠ¤è€…**: Security Team