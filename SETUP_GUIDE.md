# å®‰å…¨å‘Šè­¦åˆ†æç³»ç»Ÿ - å¿«é€Ÿé…ç½®æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºç¡€è®¾æ–½é…ç½®
```bash
# é…ç½®æ‰€æœ‰åŸºç¡€ç»„ä»¶ï¼ˆDockeré•œåƒã€Pythonç¯å¢ƒç­‰ï¼‰
./setup_infrastructure.sh
```

### 2. æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
```bash
# æ£€æŸ¥åŸºç¡€è®¾æ–½æ˜¯å¦å‡†å¤‡å°±ç»ª
./check_infrastructure.sh
```

### 3. å¯åŠ¨ç³»ç»Ÿ
```bash
# ä¸€é”®å¯åŠ¨å®Œæ•´ç³»ç»Ÿ
./start_app.sh
```

### 4. åœæ­¢ç³»ç»Ÿ
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
./stop_all.sh
```

## ğŸ“‹ è„šæœ¬è¯´æ˜

### `setup_infrastructure.sh`
- **åŠŸèƒ½**: æ‹‰å–å’Œé…ç½®æ‰€æœ‰åŸºç¡€ç»„ä»¶
- **åŒ…å«**:
  - Dockeré•œåƒä¸‹è½½ (Elasticsearch, Kafka, Neo4j, ClickHouseç­‰)
  - Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»º
  - ä¾èµ–åŒ…å®‰è£…
  - Dockerç½‘ç»œå’Œå­˜å‚¨å·é…ç½®
- **ä½¿ç”¨**: é¦–æ¬¡éƒ¨ç½²æ—¶è¿è¡Œï¼Œæˆ–éœ€è¦é‡æ–°é…ç½®æ—¶è¿è¡Œ

### `check_infrastructure.sh`
- **åŠŸèƒ½**: æ£€æŸ¥åŸºç¡€è®¾æ–½çŠ¶æ€
- **æ£€æŸ¥é¡¹**:
  - Dockerç¯å¢ƒ
  - Dockeré•œåƒå®Œæ•´æ€§
  - Pythonç¯å¢ƒ
  - é…ç½®æ–‡ä»¶
  - ç«¯å£å ç”¨æƒ…å†µ
  - å®¹å™¨è¿è¡ŒçŠ¶æ€
- **ä½¿ç”¨**: é—®é¢˜æ’æŸ¥å’ŒçŠ¶æ€ç¡®è®¤

### `start_app.sh`
- **åŠŸèƒ½**: ä¸€é”®å¯åŠ¨å®Œæ•´ç³»ç»Ÿ
- **åŒ…å«**:
  - ç³»ç»Ÿç¯å¢ƒæ£€æŸ¥
  - DockeræœåŠ¡å¯åŠ¨
  - APIæœåŠ¡å¯åŠ¨
  - Webæ¼”ç¤ºç•Œé¢å¯åŠ¨
  - å¥åº·æ£€æŸ¥
- **ä½¿ç”¨**: æ—¥å¸¸å¯åŠ¨ç³»ç»Ÿ

## ğŸ”§ é…ç½®è¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: macOS æˆ– Linux
- **å†…å­˜**: å»ºè®® 8GB+
- **ç£ç›˜**: å»ºè®® 50GB+ å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: éœ€è¦è®¿é—® Docker Hub

### å¿…è¦å·¥å…·
- Docker (20.10+)
- Docker Compose (2.0+)
- Python 3.8+

## ğŸ“Š æœåŠ¡ç«¯å£

| æœåŠ¡ | ç«¯å£ | ç”¨é€” |
|------|------|------|
| APIæœåŠ¡ | 8000 | æ ¸å¿ƒAPIæ¥å£ |
| Elasticsearch | 9200 | æ—¥å¿—æœç´¢ |
| Kibana | 5601 | æ—¥å¿—å¯è§†åŒ– |
| Neo4j | 7474 | å›¾æ•°æ®åº“ç®¡ç† |
| ClickHouse | 8123 | åˆ†ææ•°æ®åº“ |
| Redis | 6379 | ç¼“å­˜æœåŠ¡ |
| MySQL | 3306 | å…ƒæ•°æ®å­˜å‚¨ |
| Kafka | 9092 | æ¶ˆæ¯é˜Ÿåˆ— |
| Kafka UI | 8082 | Kafkaç®¡ç†ç•Œé¢ |
| Webæ¼”ç¤º | 5115 | æ¼”ç¤ºç®¡ç†ç•Œé¢ |

## ğŸ› å¸¸è§é—®é¢˜

### 1. Dockeré•œåƒæ‹‰å–å¤±è´¥
```bash
# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping docker.io

# æ‰‹åŠ¨æ‹‰å–å•ä¸ªé•œåƒ
docker pull elasticsearch:8.11.1

# é‡æ–°è¿è¡Œé…ç½®è„šæœ¬
./setup_infrastructure.sh
```

### 2. ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
./check_infrastructure.sh

# åœæ­¢ç°æœ‰æœåŠ¡
./stop_all.sh

# æˆ–æ‰‹åŠ¨åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -ti:8000 | xargs kill -9
```

### 3. Pythonä¾èµ–å®‰è£…å¤±è´¥
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python3 --version

# æ‰‹åŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

## ğŸ“ é‡è¦æ–‡ä»¶

- `logs/`: ç³»ç»Ÿæ—¥å¿—ç›®å½•
- `venv/`: Pythonè™šæ‹Ÿç¯å¢ƒ
- `demo_venv/`: æ¼”ç¤ºç•Œé¢ç¯å¢ƒ
- `.infrastructure_ready`: é…ç½®å®Œæˆæ ‡è®°
- `docker-compose.yml`: DockeræœåŠ¡é…ç½®

## ğŸ’¡ ä½¿ç”¨å»ºè®®

1. **é¦–æ¬¡éƒ¨ç½²**: æŒ‰é¡ºåºè¿è¡Œ `setup_infrastructure.sh` â†’ `check_infrastructure.sh` â†’ `start_app.sh`
2. **æ—¥å¸¸ä½¿ç”¨**: ç›´æ¥è¿è¡Œ `start_app.sh` 
3. **é—®é¢˜æ’æŸ¥**: è¿è¡Œ `check_infrastructure.sh` æ£€æŸ¥çŠ¶æ€
4. **é‡æ–°é…ç½®**: åˆ é™¤ `.infrastructure_ready` æ–‡ä»¶åé‡æ–°è¿è¡Œ `setup_infrastructure.sh`

## ğŸ¯ å¿«é€ŸéªŒè¯

é…ç½®å®Œæˆåï¼Œè®¿é—®ä»¥ä¸‹åœ°å€éªŒè¯ç³»ç»Ÿï¼š
- APIæ–‡æ¡£: http://localhost:8000/docs
- Webæ¼”ç¤º: http://localhost:5115
- Kibana: http://localhost:5601
- Neo4j: http://localhost:7474